(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{628:function(t,s,a){t.exports=a.p+"assets/img/æ¼«åå°„.a3c4f73b.png"},629:function(t,s,a){t.exports=a.p+"assets/img/ç¯å¢ƒåå°„.0c721ab6.png"},630:function(t,s){t.exports="data:image/png;base64,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"},631:function(t,s,a){t.exports=a.p+"assets/img/ç¯å¢ƒå…‰ä¸‹çš„æ¼«åå°„.ec073bef.png"},632:function(t,s,a){t.exports=a.p+"assets/img/ç‚¹å…‰æº.9cd0106c.png"},633:function(t,s,a){t.exports=a.p+"assets/img/é•œé¢é«˜å…‰.8e41b6d0.png"},634:function(t,s,a){t.exports=a.p+"assets/img/å…‰çº¿åˆ°çœ¼ç›.0dec6835.png"},635:function(t,s,a){t.exports=a.p+"assets/img/é«˜å…‰-å¤ªäº®.114ace67.png"},636:function(t,s,a){t.exports=a.p+"assets/img/é«˜å…‰-è®¾ç½®é¢œè‰².53b6041f.png"},637:function(t,s,a){t.exports=a.p+"assets/img/é«˜å…‰.f7206e52.png"},638:function(t,s,a){t.exports=a.p+"assets/img/èšå…‰ç¯-ç²—ç³™.932b6b62.png"},639:function(t,s,a){t.exports=a.p+"assets/img/èšå…‰ç¯-å¹³æ»‘.d19d6de1.png"},931:function(t,s,a){"use strict";a.r(s);var n=a(41),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-å…‰æºç±»å‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-å…‰æºç±»å‹"}},[t._v("#")]),t._v(" 1.å…‰æºç±»å‹")]),t._v(" "),s("p",[t._v("çœŸå®ä¸–ç•Œä¸­çš„å…‰ä¸»è¦æœ‰2ç§ç±»å‹ï¼Œ"),s("strong",[t._v("å¹³è¡Œå…‰")]),t._v("å’Œ"),s("strong",[t._v("ç‚¹å…‰æºå…‰")]),t._v("ï¼šç±»ä¼¼äºç”µç¯æ³¡å‘å‡ºçš„å…‰ã€‚\nåŒæ—¶æˆ‘ä»¬è¿˜ä¼šç”¨"),s("strong",[t._v("ç¯å¢ƒå…‰")]),t._v("æ¥æ¨¡æ‹ŸçœŸå®ä¸–ç•Œä¸­çš„éç›´å°„å…‰ï¼ˆä¹Ÿå°±æ˜¯ç”±å…‰æºå‘å‡ºåç»è¿‡å¢™å£æˆ–è€…å…¶ä»–ç‰©ä½“åå°„åçš„å…‰ï¼‰ã€‚ä¸‰ç»´å›¾å½¢å­¦ä¸­ä¼šä½¿ç”¨ä¸€äº›å…¶ä»–ç±»å‹çš„å…‰ï¼Œæ¯”å¦‚"),s("strong",[t._v("èšå…‰ç­‰å…‰")]),t._v("ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_1-å¹³è¡Œå…‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-å¹³è¡Œå…‰"}},[t._v("#")]),t._v(" 1.å¹³è¡Œå…‰")]),t._v(" "),s("p",[t._v("å…‰çº¿å¹³è¡Œï¼Œå…·æœ‰æ–¹å‘ã€‚å¯ä»¥ç”¨ä¸€ä¸ªæ–¹å‘å’Œé¢œè‰²æ¥å®šä¹‰ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_2-ç‚¹å…‰æºå…‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-ç‚¹å…‰æºå…‰"}},[t._v("#")]),t._v(" 2.ç‚¹å…‰æºå…‰")]),t._v(" "),s("p",[t._v("ç‚¹å…‰æºå…‰æ˜¯ä»ä¸€ä¸ªç‚¹å‘å‘¨å›´çš„æ‰€æœ‰æ–¹å‘å‘å‡ºçš„å…‰ã€‚å®šä¹‰ç‚¹å…‰æºæ—¶æˆ‘ä»¬éœ€è¦æŒ‡å®šç‚¹å…‰æºçš„ä½ç½®å’Œé¢œè‰²ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_3-ç¯å¢ƒå…‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-ç¯å¢ƒå…‰"}},[t._v("#")]),t._v(" 3.ç¯å¢ƒå…‰")]),t._v(" "),s("p",[t._v("æŒ‡é‚£äº›ç»å…‰æºå‘å‡ºåï¼Œè¢«å¢™å£ç­‰ç‰©ä½“å¤šæ¬¡åå°„ï¼Œç„¶åç…§åˆ°ç‰©ä½“è¡¨é¢ä¸Šçš„å…‰ã€‚ç¯å¢ƒå…‰ä»å„ä¸ªè§’åº¦ç…§å°„ç‰©ä½“ï¼Œèµ·å¼ºåº¦éƒ½æ˜¯ä¸€è‡´çš„ã€‚ç¯å¢ƒå…‰ä¸ç”¨æŒ‡å®šä½ç½®å’Œæ–¹å‘ï¼Œåªéœ€è¦æŒ‡å®šé¢œè‰²å°±è¡Œã€‚")]),t._v(" "),s("h2",{attrs:{id:"_2-åå°„ç±»å‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-åå°„ç±»å‹"}},[t._v("#")]),t._v(" 2.åå°„ç±»å‹")]),t._v(" "),s("p",[t._v("æ ¹æ®ç‰©ä½“è¡¨é¢åå°„å…‰çº¿çš„æ–¹å¼ï¼Œå¯ä»¥åˆ†ä¸º"),s("strong",[t._v("æ¼«åå°„")]),t._v("å’Œ"),s("strong",[t._v("ç¯å¢ƒåå°„")]),t._v("ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_1-æ¼«åå°„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ¼«åå°„"}},[t._v("#")]),t._v(" 1.æ¼«åå°„")]),t._v(" "),s("p",[s("strong",[t._v("æ¼«åå°„æ˜¯é’ˆå¯¹å¹³è¡Œå…‰å’Œç‚¹å…‰æº")]),t._v("è€Œè¨€çš„ï¼Œæ¼«åå°„çš„åå°„å…‰åœ¨å„ä¸ªæ–¹å‘ä¸Šéƒ½æ˜¯å‡åŒ€çš„ã€‚æœ‰äº›ç‰©ä½“çš„è¡¨é¢æ˜¯ç²—ç³™çš„ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåå°„å…‰å°±ä¼šä»¥ä¸å›ºå®šçš„è§’åº¦åå°„å‡ºå»ã€‚")]),t._v(" "),s("p",[t._v("åå°„å…‰çš„é¢œè‰²å–å†³äº"),s("strong",[t._v("å…¥å°„å…‰çš„é¢œè‰²")]),t._v("ã€"),s("strong",[t._v("è¡¨é¢çš„åŸºåº•è‰²")]),t._v("ã€"),s("strong",[t._v("å…¥å°„å…‰")]),t._v("ä¸è¡¨é¢æ³•çº¿å½¢æˆçš„"),s("strong",[t._v("å…¥å°„è§’")]),t._v("ã€‚å…¥å°„è§’ä¸ºå…¥å°„å…‰ä¸è¡¨é¢çš„æ³•çº¿å½¢æˆçš„å¤¹è§’ï¼Œç”¨"),s("code",[t._v("ğœƒ")]),t._v(" è¡¨ç¤º ï¼Œæ¼«åå°„å…‰çš„é¢œè‰²å¯ä»¥æ ¹æ®ä¸‹é¢çš„å…¬å¼è®¡ç®—å¾—åˆ°ã€‚")]),t._v(" "),s("blockquote",[s("p",[s("strong",[t._v("æ¼«åå°„å…‰çš„é¢œè‰²è®¡ç®—")])])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ç‰©ä½“æ¼«åå°„å…‰é¢œè‰² "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" å…¥å°„å…‰é¢œè‰² "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("X")]),t._v(" è¡¨é¢åŸºåº•è‰² "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("X")]),t._v(" cosğœƒ\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("img",{attrs:{width:"200",src:a(628)}}),t._v(" "),s("h3",{attrs:{id:"_2-ç¯å¢ƒåå°„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-ç¯å¢ƒåå°„"}},[t._v("#")]),t._v(" 2.ç¯å¢ƒåå°„")]),t._v(" "),s("p",[s("strong",[t._v("ç¯å¢ƒåå°„æ˜¯é’ˆå¯¹ç¯å¢ƒå…‰")]),t._v("è€Œè¨€çš„ã€‚ åå°„å…‰çš„æ–¹å‘å¯ä»¥è®¤ä¸ºå°±æ˜¯"),s("strong",[t._v("å…¥å°„å…‰çš„åæ–¹å‘")]),t._v("ã€‚ç”±äºç¯å¢ƒå…‰ç…§å°„ç‰©ä½“çš„æ–¹å¼å°±æ˜¯å„æ–¹å‘å‡åŒ€ã€å¼ºåº¦ç›¸ç­‰çš„ï¼Œæ‰€ä»¥åå°„å…‰ä¹Ÿæ˜¯å„å‘å‡åŒ€çš„ã€‚")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("ç¯å¢ƒåå°„å…‰")]),t._v("çš„é¢œè‰²è®¡ç®—ã€‚")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ç‰©ä½“ç¯å¢ƒåå°„å…‰é¢œè‰² "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" å…¥å°„å…‰é¢œè‰² "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("X")]),t._v(" è¡¨é¢åŸºé¢œè‰²\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("img",{attrs:{width:"200",src:a(629)}}),t._v(" "),s("ul",[s("li",[s("strong",[t._v("æ¼«åå°„å’Œç¯å¢ƒåå°„")]),t._v(" åŒæ—¶å­˜åœ¨æ—¶ç‰©ä½“çš„é¢œè‰²è®¡ç®—")])]),t._v(" "),s("p",[t._v("å½“æ¼«åå°„å’Œç¯å¢ƒåå°„åŒæ—¶å­˜åœ¨æ—¶ï¼Œå°†ä¸¤è€…åŠ èµ·æ¥ï¼Œå°±ä¼šå¾—åˆ°ç‰©ä½“æœ€ç»ˆè¢«è§‚å¯Ÿåˆ°çš„é¢œè‰²ã€‚")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ç‰©ä½“è¡¨é¢çš„é¢œè‰² "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" æ¼«åå°„å…‰é¢œè‰² "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ç¯å¢ƒåå°„å…‰é¢œè‰²\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"_3-å¹³è¡Œå…‰ä¸‹çš„æ¼«åå°„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-å¹³è¡Œå…‰ä¸‹çš„æ¼«åå°„"}},[t._v("#")]),t._v(" 3.å¹³è¡Œå…‰ä¸‹çš„æ¼«åå°„")]),t._v(" "),s("p",[t._v("ä¸Šé¢çš„"),s("code",[t._v("cosğœƒ")]),t._v("å¯ä»¥ç”¨ä¸¤ä¸ªçŸ¢é‡çš„ç‚¹ç§¯æ¥å¾—åˆ°ã€‚ä¸‹é¢çš„ç­‰å¼æˆç«‹çš„æ¡ä»¶æ˜¯å…‰çº¿æ–¹å‘å’Œæ³•çº¿æ–¹å‘å‘é‡å¿…é¡»éƒ½æ˜¯å•ä½å‘é‡ã€‚")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("cosğœƒ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" å…‰çº¿æ–¹å‘ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" æ³•çº¿æ–¹å‘ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("å…‰çº¿æ–¹å‘"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("æ³•çº¿æ–¹å‘"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("cosğœƒ\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("æ‰€ä»¥ä¸Šé¢ä¸Šé¢çš„æ¼«åå°„å…‰çš„å…¬å¼å¯ä»¥å†™æˆ")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ç‰©ä½“æ¼«åå°„å…‰é¢œè‰² "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" å…¥å°„å…‰é¢œè‰² "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("X")]),t._v(" è¡¨é¢åŸºåº•è‰² "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("X")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("å…‰çº¿æ–¹å‘ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" æ³•çº¿æ–¹å‘"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("strong",[t._v("æ³¨æ„ï¼š")])]),t._v(" "),s("ul",[s("li",[t._v("å…‰çº¿æ–¹å‘çŸ¢é‡å’Œè¡¨é¢æ³•çº¿çŸ¢é‡çš„é•¿åº¦å¿…é¡»æ—¶ "),s("code",[t._v("1")]),t._v("ï¼Œå¦åˆ™åå°„å…‰çš„é¢œè‰²å°±ä¼šè¿‡æš—æˆ–è€…è¿‡äº®ã€‚å°†ä¸€ä¸ªçŸ¢é‡çš„é•¿åº¦è°ƒæ•´ä¸º1ï¼ŒåŒæ—¶ä¿æŒæ–¹å‘ä¸å˜çš„è¿‡ç¨‹ç§°ä¹‹ä¸º"),s("strong",[t._v("å½’ä¸€åŒ–")]),t._v("ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("å…‰çº¿æ–¹å‘")]),t._v("ï¼Œå®é™…ä¸Šæ˜¯"),s("strong",[t._v("å…¥å°„æ–¹å‘çš„åæ–¹å‘")]),t._v("ï¼Œæ˜¯ä»å…¥å°„ç‚¹æŒ‡å‘å…‰æºçš„æ–¹å‘ã€‚")])]),t._v(" "),s("p",[s("strong",[t._v("æ³•çº¿")]),t._v(": å‚ç›´äºç‰©ä½“è¡¨é¢çš„æ–¹å‘ï¼Œç§°ä¹‹ä¸ºæ³•çº¿æˆ–è€…æ³•å‘é‡ã€‚å› ä¸ºæ¯ä¸ªè¡¨é¢éƒ½æœ‰ä¸¤ä¸ªé¢ï¼Œæ‰€ä»¥æ¯ä¸ªè¡¨é¢éƒ½å…·æœ‰ä¸¤ä¸ªæ³•å‘é‡ã€‚")]),t._v(" "),s("p",[t._v("å¹³è¡Œå…‰ä¸‹çš„æ¼«åå°„çš„ "),s("strong",[t._v("é¡¶ç‚¹ç€è‰²å™¨ä¸­")]),t._v("çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  attribute vec4 a_Position"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  attribute vec4 a_Color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n  attribute vec4 a_Normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Normal æ³•å‘é‡")]),t._v("\n  uniform mat4 u_MvpMatrix"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  uniform vec3 u_LightColor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Light color å…‰çº¿é¢œè‰²")]),t._v("\n  uniform vec3 u_LightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Light direction (in the world coordinate, normalized) å…‰çº¿æ–¹å‘")]),t._v("\n  varying vec4 v_Color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    gl_Position "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" u_MvpMatrix "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" a_Position "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Make the length of the normal 1.0")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ³•å‘é‡å½’ä¸€åŒ–")]),t._v("\n    vec3 normal "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("normalize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a_Normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xyz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Dot product of the light direction and the orientation of a surface (the normal)")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—ç‚¹ç§¯")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“è§’åº¦å¤§äº90æ—¶ï¼Œå°†ç‚¹ç§¯èµ‹å€¼ä¸º0ï¼Œè¡¨ç¤ºå…‰çº¿æ˜¯æ‰¾åˆ°äº†èƒŒé¢ï¼Œæ‰€ä»¥æˆ‘ä»¬çœ‹åˆ°çš„ç‰©ä½“æ˜¯æš—çš„ã€‚")]),t._v("\n    float nDotL "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("max")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u_LightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Calculate the color due to diffuse reflection")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—æ¼«åå°„å…‰çš„é¢œè‰²")]),t._v("\n    vec3 diffuse "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" u_LightColor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" a_Color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rgb "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" nDotL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    v_Color "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vec4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("diffuse"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" a_Color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br")])]),s("p",[t._v("å¹³è¡Œå…‰ä¸‹çš„æ¼«åå°„çš„ ä¸»è¦"),s("code",[t._v("js")]),t._v("ä»£ç å¦‚ä¸‹æ‰€ç¤º")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" u_MvpMatrix "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUniformLocation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("program"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'u_MvpMatrix'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" u_LightColor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUniformLocation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("program"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'u_LightColor'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ncomst u_LightDirection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUniformLocation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("program"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'u_LightDirection'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("u_MvpMatrix "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("u_LightColor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("u_LightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Failed to get the storage location'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Set the light color (white)")]),t._v("\ngl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uniform3f")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u_LightColor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Set the light direction (in the world coordinate)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" lightDirection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vector3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nlightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("normalize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Normalize")]),t._v("\ngl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uniform3fv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u_LightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" lightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("elements"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Calculate the view projection matrix")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" mvpMatrix "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Matrix4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Model view projection matrix")]),t._v("\nmvpMatrix"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setPerspective")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" canvas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("canvas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmvpMatrix"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("lookAt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Pass the model view projection matrix to the variable u_MvpMatrix")]),t._v("\ngl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uniformMatrix4fv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u_MvpMatrix"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mvpMatrix"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("elements"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br")])]),s("p",[t._v("å…·ä½“çš„ "),s("code",[t._v("demo")]),t._v("åœ°å€  "),s("a",{attrs:{href:"https://github.com/tangjie-93/WebGL/blob/main/%E8%B7%9F%E7%9D%80%E5%AE%98%E7%BD%91%E5%AD%A6WebGL%2BWebGL%E7%BC%96%E7%A8%8B%E6%8C%87%E5%8D%97/%E5%85%89%E7%85%A7/demo/%E5%B9%B3%E8%A1%8C%E5%85%89%E7%9A%84%E6%BC%AB%E5%8F%8D%E5%B0%84.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¹³è¡Œå…‰çš„æ¼«åå°„"),s("OutboundLink")],1),t._v(" ã€‚\næœ€ç»ˆçš„ç»˜åˆ¶æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š\n"),s("img",{attrs:{width:"200",src:a(630)}}),t._v("\nä»ä¸Šé¢çš„å›¾ç‰‡ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å³ä¾§è¡¨é¢æ˜¯å…¨é»‘çš„ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰è€ƒè™‘åˆ°ç¯å¢ƒå…‰å¯¹ç‰©ä½“çš„ç…§å°„æ•ˆæœã€‚æ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦åŠ ä¸Šç‰©ä½“è¡¨é¢çš„ç¯å¢ƒåå°„å…‰çš„é¢œè‰²ï¼Œæ‰èƒ½å¾—åˆ°ç‰©ä½“è¡¨é¢æœ€ç»ˆçš„é¢œè‰²ã€‚")]),t._v(" "),s("p",[t._v("æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹ä¸Šé¢çš„ä»£ç åšä»¥ä¸‹ä¿®æ”¹ã€‚")]),t._v(" "),s("blockquote",[s("p",[s("strong",[t._v("é¡¶ç‚¹ç€è‰²å™¨ä»£ç ")])])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  uniform vec3 u_AmbientLight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Color of an ambient light ç¯å¢ƒå…‰")]),t._v("\n  varying vec4 v_Color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—ç¯å¢ƒå…‰äº§ç”Ÿçš„åå°„å…‰é¢œè‰²")]),t._v("\n    vec3 ambient "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" u_AmbientLight "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" a_Color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rgb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    v_Color "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vec4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("diffuse"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("ambient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" a_Color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("blockquote",[s("p",[s("code",[t._v("js")]),t._v("ä¸­ä¹Ÿéœ€è¦æ·»åŠ ç¯å¢ƒå…‰çš„ä»£ç ã€‚")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" u_AmbientLight "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUniformLocation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("program"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'u_AmbientLight'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Set the ambient light")]),t._v("\ngl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uniform3f")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u_AmbientLight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("æœ€ç»ˆçš„ç»˜åˆ¶ç»“æœå¦‚ä¸‹æ‰€ç¤º\n"),s("img",{attrs:{src:a(631)}})]),t._v(" "),s("p",[s("code",[t._v("demo")]),t._v(" åœ°å€  "),s("a",{attrs:{href:"https://github.com/tangjie-93/WebGL/blob/main/%E8%B7%9F%E7%9D%80%E5%AE%98%E7%BD%91%E5%AD%A6WebGL%2BWebGL%E7%BC%96%E7%A8%8B%E6%8C%87%E5%8D%97/%E5%85%89%E7%85%A7/demo/%E7%8E%AF%E5%A2%83%E5%85%89%E4%B8%8B%E7%9A%84%E6%BC%AB%E5%8F%8D%E5%B0%84.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç¯å¢ƒå…‰ä¸‹çš„æ¼«åå°„"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"_3-è¿åŠ¨ç‰©ä½“çš„å…‰ç…§æ•ˆæœ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-è¿åŠ¨ç‰©ä½“çš„å…‰ç…§æ•ˆæœ"}},[t._v("#")]),t._v(" 3.è¿åŠ¨ç‰©ä½“çš„å…‰ç…§æ•ˆæœ")]),t._v(" "),s("p",[t._v("ç‰©ä½“æ—‹è½¬æ—¶ï¼Œæ¯ä¸ªè¡¨é¢çš„æ³•å‘é‡éƒ½ä¼šéšä¹‹æ”¹å˜ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨è¿åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä¸æ–­è®¡ç®—æ›´æ–°åçš„æ³•å‘é‡ã€‚è¿™é‡Œæˆ‘ä»¬ä¼šç”¨åˆ°"),s("strong",[t._v("é€†è½¬ç½®çŸ©é˜µ")]),t._v("ï¼Œå°†å˜æ¢ä¹‹å‰çš„æ³•å‘é‡ä¹˜ä»¥"),s("strong",[t._v("æ¨¡å‹çŸ©é˜µ")]),t._v("çš„"),s("strong",[t._v("é€†è½¬ç½®çŸ©é˜µ")]),t._v("å°±å¯ä»¥å¾—åˆ°å˜æ¢åçš„æ³•å‘é‡ã€‚"),s("strong",[t._v("è½¬ç½®é€†çŸ©é˜µå°±æ˜¯é€†çŸ©é˜µçš„è½¬ç½®")]),t._v("ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("é€†çŸ©é˜µ")]),t._v("ï¼šå¦‚æœçŸ©é˜µ"),s("code",[t._v("M")]),t._v("çš„é€†çŸ©é˜µæ˜¯ "),s("code",[t._v("R")]),t._v(",é‚£ä¹ˆ"),s("code",[t._v("M*R")]),t._v("æˆ–è€…"),s("code",[t._v("R*M")]),t._v("çš„ç»“æœéƒ½æ˜¯å•ä½çŸ©é˜µã€‚\n"),s("strong",[t._v("è½¬ç½®")]),t._v("ï¼šå°†çŸ©é˜µçš„è¡Œåˆ—è¿›è¡Œè°ƒæ¢(çœ‹ä¸Šå»å°±åƒæ˜¯æ²¿ç€å·¦ä¸Š-å³ä¸‹å¯¹è§’çº¿è¿›è¡Œäº†ç¿»è½¬)ã€‚")]),t._v(" "),s("p",[t._v("æ‰€ä»¥æ±‚é€†è½¬ç½®çŸ©é˜µä¸»è¦ç”±ä»¥ä¸‹ä¸¤ä¸ªæ­¥éª¤ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æ±‚åŸçŸ©é˜µçš„é€†çŸ©é˜µ")]),t._v(" "),s("li",[t._v("å°†ä¸Šä¸€æ­¥å¾—åˆ°çš„é€†çŸ©é˜µè¿›è¡Œè½¬ç½®ã€‚\næ‰€ä»¥æˆ‘ä»¬éœ€è¦å°†ä¸Šä¸€æ­¥ä½¿ç”¨ç¯å¢ƒå…‰çš„é¡¶ç‚¹ç€è‰²å™¨ä¸­çš„ä»£ç å†è¿›è¡Œä»¥ä¸‹ä¿®æ”¹ã€‚")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  uniform mat4 u_NormalMatrix\n  uniform vec3 u_AmbientLight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Color of an ambient light ç¯å¢ƒå…‰")]),t._v("\n  varying vec4 v_Color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—æ—‹è½¬åçš„åå°„å…‰")]),t._v("\n    vec3 normal "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("normalize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vec3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u_NormalMatrix "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" a_Normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—ç¯å¢ƒå…‰äº§ç”Ÿçš„åå°„å…‰é¢œè‰²")]),t._v("\n    vec3 ambient "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" u_AmbientLight "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" a_Color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rgb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    v_Color "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vec4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("diffuse"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("ambient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" a_Color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("p",[s("code",[t._v("js")]),t._v("ä¸­çš„ä»£ç éœ€è¦åšå¦‚ä¸‹ä¿®æ”¹")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Calculate the matrix to transform the normal based on the model matrix")]),t._v("\nnormalMatrix"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInverseOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("modelMatrix"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nnormalMatrix"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("transpose")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Pass the transformation matrix for normals to u_NormalMatrix")]),t._v("\ngl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uniformMatrix4fv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u_NormalMatrix"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" normalMatrix"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("elements"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("å…·ä½“"),s("code",[t._v("demo")]),t._v("åœ°å€ "),s("a",{attrs:{href:"https://github.com/tangjie-93/WebGL/blob/main/%E8%B7%9F%E7%9D%80%E5%AE%98%E7%BD%91%E5%AD%A6WebGL%2BWebGL%E7%BC%96%E7%A8%8B%E6%8C%87%E5%8D%97/%E5%85%89%E7%85%A7/demo/%E8%BF%90%E5%8A%A8%E7%89%A9%E4%BD%93%E7%9A%84%E9%A2%9C%E8%89%B2.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿åŠ¨ç‰©ä½“çš„é¢œè‰²"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"_4-ç‚¹å…‰æºå…‰çš„ç€è‰²æ•ˆæœ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-ç‚¹å…‰æºå…‰çš„ç€è‰²æ•ˆæœ"}},[t._v("#")]),t._v(" 4.ç‚¹å…‰æºå…‰çš„ç€è‰²æ•ˆæœ")]),t._v(" "),s("p",[t._v("åœ¨å¯¹ç‚¹å…‰æºä¸‹çš„ç‰©ä½“è¿›è¡Œç€è‰²æ—¶ï¼Œéœ€è¦åœ¨æ¯ä¸ªå…¥å°„ç‚¹è®¡ç®—ç‚¹å…‰æºåœ¨è¯¥å¤„çš„æ–¹å‘ã€‚ç‚¹å…‰æº"),s("strong",[t._v("å…‰çš„æ–¹å‘")]),t._v("ä¸æ˜¯æ’å®šä¸å˜çš„ï¼Œéœ€è¦"),s("strong",[t._v("æ ¹æ®æ¯ä¸ªé¡¶ç‚¹çš„ä½ç½®é€ä¸€è®¡ç®—")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("é¡¶ç‚¹ç€è‰²å™¨ä¸­çš„ä»£ç è·Ÿä¸Šé¢å¹³è¡Œå…‰çš„ä»£ç æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œåœ¨è¿™é‡Œéœ€è¦ä¸æ–­åœ¨"),s("strong",[t._v("ä¸–ç•Œåæ ‡ç³»ä¸­")]),t._v("è®¡ç®—é¡¶ç‚¹åæ ‡"),s("strong",[t._v("å…‰çš„æ–¹å‘")]),t._v("ã€‚")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\nuniform mat4 u_ModelMatrix"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\nuniform vec3 u_LightPosition"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨ä¸–ç•Œåæ ‡ç³»ä¸‹å…‰æºçš„ä½ç½®")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—é¡¶ç‚¹çš„ä¸–ç•Œåæ ‡")]),t._v("\nvec4 vertexPosition "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" u_ModelMatrix "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" a_Position"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—å…‰çº¿æ–¹å‘å¹¶å½’ä¸€åŒ–")]),t._v("\nvec3 lightDirection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("normalize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u_LightPosition "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vec3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vertexPosition"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("p",[t._v("æœ€ç»ˆçš„å±•ç¤ºæ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š")]),t._v(" "),s("img",{attrs:{width:"200",src:a(632)}}),t._v(" "),s("p",[t._v("å…·ä½“çš„"),s("code",[t._v("demo")]),t._v("åœ°å€ "),s("a",{attrs:{href:"https://github.com/tangjie-93/WebGL/blob/main/%E8%B7%9F%E7%9D%80%E5%AE%98%E7%BD%91%E5%AD%A6WebGL%2BWebGL%E7%BC%96%E7%A8%8B%E6%8C%87%E5%8D%97/%E5%85%89%E7%85%A7/demo/%E7%82%B9%E5%85%89%E6%BA%90%E5%85%89.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç‚¹å…‰æºå…‰"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("ä»”ç»†è§‚å¯Ÿä¼šå‘ç°ç«‹æ–¹ä½“è¡¨é¢ä¼šæœ‰"),s("strong",[t._v("ä¸è‡ªç„¶çš„çº¿æ¡")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("è¿™æ˜¯å› ä¸ºåœ¨"),s("code",[t._v("WebGL")]),t._v("ç³»ç»Ÿä¸­ä¼šæ ¹æ®é¡¶ç‚¹çš„é¢œè‰²ï¼Œå†…æ’å‡ºè¡¨é¢ä¸Šæ¯ä¸ªç‰‡å…ƒçš„é¢œè‰²ã€‚\nä½†æ˜¯å®é™…ä¸Šï¼Œç‚¹å…‰æºç…§å°„åˆ°ä¸€ä¸ªè¡¨é¢ä¸Šï¼Œæ‰€äº§ç”Ÿçš„æ•ˆæœ(æ¯ä¸ªç‰‡å…ƒè·å¾—çš„é¢œè‰²)ä¸ç®€å•ä½¿ç”¨4ä¸ªé¡¶ç‚¹é¢œè‰²ï¼ˆä¹Ÿæ˜¯æœ‰ç‚¹å…‰æºäº§ç”Ÿï¼‰å†…æ’å‡ºçš„æ•ˆæœå¹¶ä¸å®Œå…¨ç›¸åŒï¼Œæ‰€ä»¥ä¸ºäº†æ•ˆæœæ›´é€¼çœŸï¼Œæˆ‘ä»¬éœ€è¦"),s("strong",[t._v("å¯¹è¡¨é¢çš„æ¯ä¸€ç‚¹è®¡ç®—å…‰ç…§æ•ˆæœ")]),t._v("ã€‚\nä¸‹é¢æ˜¯é€ç‰‡å…ƒè®¡ç®—æ¨¡å‹é¢œè‰²çš„ä¾‹å­ã€‚\n"),s("strong",[t._v("é¡¶ç‚¹ç€è‰²å™¨ä¸­çš„ä»£ç ")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("attribute vec4 a_Position"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  attribute vec4 a_Color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  attribute vec4 a_Normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  uniform mat4 u_MvpMatrix"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  uniform mat4 u_ModelMatrix"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Model matrix")]),t._v("\n  uniform mat4 u_NormalMatrix"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Transformation matrix of the normal")]),t._v("\n  varying vec4 v_Color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  varying vec3 v_Normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  varying vec3 v_Position"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    gl_Position "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" u_MvpMatrix "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" a_Position"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Calculate the vertex position in the world coordinate")]),t._v("\n    v_Position "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vec3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u_ModelMatrix "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" a_Position"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    v_Normal "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("normalize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vec3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u_NormalMatrix "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" a_Normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    v_Color "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" a_Color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])]),s("p",[s("strong",[t._v("ç‰‡å…ƒç€è‰²å™¨ä¸­çš„ä»£ç ")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("precision mediump float"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  uniform vec3 u_LightColor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Light color")]),t._v("\n  uniform vec3 u_LightPosition"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Position of the light source")]),t._v("\n  uniform vec3 u_AmbientLight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Ambient light color")]),t._v("\n  varying vec3 v_Normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  varying vec3 v_Position"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  varying vec4 v_Color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Normalize the normal because it is interpolated and not 1.0 in length any more")]),t._v("\n    vec3 normal "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("normalize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v_Normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Calculate the light direction and make its length 1.")]),t._v("\n    vec3 lightDirection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("normalize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u_LightPosition "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" v_Position"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// The dot product of the light direction and the orientation of a surface (the normal)")]),t._v("\n    float nDotL "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("max")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Calculate the final color from diffuse reflection and ambient reflection")]),t._v("\n    vec3 diffuse "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" u_LightColor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" v_Color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rgb "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" nDotL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    vec3 ambient "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" u_AmbientLight "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" v_Color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rgb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    gl_FragColor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vec4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("diffuse "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ambient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" v_Color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br")])]),s("p",[t._v("å…·ä½“"),s("code",[t._v("demo")]),t._v("åœ°å€"),s("a",{attrs:{href:"https://github.com/tangjie-93/WebGL/blob/main/%E8%B7%9F%E7%9D%80%E5%AE%98%E7%BD%91%E5%AD%A6WebGL%2BWebGL%E7%BC%96%E7%A8%8B%E6%8C%87%E5%8D%97/%E5%85%89%E7%85%A7/demo/%E7%82%B9%E5%85%89%E6%BA%90%E9%80%90%E7%89%87%E5%85%83%E5%85%89%E7%85%A7.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç‚¹å…‰æºé€ç‰‡å…ƒå…‰ç…§æ•ˆæœ"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"_5-ä¸‰ç»´ç‚¹å…‰æº-é«˜å…‰æ•ˆæœ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-ä¸‰ç»´ç‚¹å…‰æº-é«˜å…‰æ•ˆæœ"}},[t._v("#")]),t._v(" 5.ä¸‰ç»´ç‚¹å…‰æº-é«˜å…‰æ•ˆæœ")]),t._v(" "),s("p",[t._v("è§‚å¯Ÿç°å®ä¸–ç•Œä¸­çš„ç‰©ä½“ï¼Œå¦‚æœç‰©ä½“è¡¨é¢æ°å¥½å°†å…‰çº¿åå°„åˆ°ä½ çœ¼å‰ï¼Œ å°±ä¼šæ˜¾å¾—éå¸¸æ˜äº®ï¼Œåƒé•œå­ä¸€æ ·ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¡ç®—å…‰çº¿æ˜¯å¦åå°„åˆ°çœ¼å‰æ¥æ¨¡æ‹Ÿè¿™ç§æƒ…å†µã€‚")]),t._v(" "),s("p",[s("strong",[t._v("æµ‹è¯•æ–¹æ³•")]),t._v("ï¼šå¦‚æœå…¥å°„è§’å’Œåå°„è§’æ°å¥½ä¸çœ¼ç›å’Œå’Œå…‰æºçš„å¤¹è§’ç›¸åŒï¼Œé‚£ä¹ˆå…‰çº¿å°±ä¼šåå°„åˆ°çœ¼å‰ã€‚")]),t._v(" "),s("img",{attrs:{width:"300",src:a(633)}}),t._v(" "),s("p",[s("strong",[t._v("è®¡ç®—æ–¹æ³•")]),t._v("ï¼šæ ¹æ®ç‰©ä½“è¡¨é¢åˆ°å…‰æºçš„æ–¹å‘ï¼ŒåŠ ä¸Šç‰©ä½“è¡¨é¢åˆ°è§†ç‚¹/çœ¼ç›/ç›¸æœºçš„æ–¹å‘ï¼Œå†é™¤ä»¥ "),s("code",[t._v("2")]),t._v(" å¾—åˆ° "),s("code",[t._v("halfVector")]),t._v(" å‘é‡ï¼Œ å°†è¿™ä¸ªå‘é‡å’Œæ³•å‘é‡æ¯”è¾ƒï¼Œå¦‚æœæ–¹å‘ä¸€è‡´ï¼Œé‚£ä¹ˆå…‰çº¿å°±ä¼šè¢«åå°„åˆ°çœ¼å‰ã€‚")]),t._v(" "),s("img",{attrs:{width:"300",src:a(634)}}),t._v(" "),s("p",[t._v("åœ¨ç€è‰²å™¨ä¸­ä¸­çš„ä»£ç è¡¨ç¤ºå¦‚ä¸‹æ‰€ç¤ºï¼š")]),t._v(" "),s("ul",[s("li",[t._v("é¡¶ç‚¹ç€è‰²å™¨")])]),t._v(" "),s("p",[t._v("åœ¨ç‚¹å…ƒç€è‰²å™¨ä¸­è®¡ç®— "),s("code",[t._v("è®¡ç®—è¡¨é¢åˆ°å…‰æºçš„æ–¹å‘")]),t._v(" å’Œ "),s("code",[t._v("è®¡ç®—è¡¨é¢åˆ°ç›¸æœºçš„æ–¹å‘")]),t._v(",å¹¶å°†ä¹‹ä¼ å…¥åˆ°ç‰‡å…ƒç€è‰²å™¨ã€‚")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("attribute vec4 a_position"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nattribute vec3 a_normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \nuniform vec3 u_lightWorldPosition"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nuniform vec3 u_viewWorldPosition"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \nuniform mat4 u_world"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nuniform mat4 u_worldViewProjection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nuniform mat4 u_worldInverseTranspose"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \nvarying vec3 v_normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \nvarying vec3 v_surfaceToLight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nvarying vec3 v_surfaceToView"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°†ä½ç½®å’ŒçŸ©é˜µç›¸ä¹˜")]),t._v("\n  gl_Position "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" u_worldViewProjection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" a_position"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é‡å®šå‘æ³•å‘é‡å¹¶ä¼ é€’åˆ°ç‰‡æ®µç€è‰²å™¨")]),t._v("\n  v_normal "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mat3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u_worldInverseTranspose"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" a_normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—è¡¨é¢çš„ä¸–ç•Œåæ ‡")]),t._v("\n  vec3 surfaceWorldPosition "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u_world "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" a_position"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xyz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—è¡¨é¢åˆ°å…‰æºçš„æ–¹å‘")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç„¶åä¼ é€’åˆ°ç‰‡æ®µç€è‰²å™¨")]),t._v("\n  v_surfaceToLight "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" u_lightWorldPosition "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" surfaceWorldPosition"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—è¡¨é¢åˆ°ç›¸æœºçš„æ–¹å‘")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç„¶åä¼ é€’åˆ°ç‰‡æ®µç€è‰²å™¨")]),t._v("\n  v_surfaceToView "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" u_viewWorldPosition "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" surfaceWorldPosition"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br")])]),s("ul",[s("li",[t._v("ç‰‡å…ƒç€è‰²å™¨")])]),t._v(" "),s("p",[t._v("åœ¨ç‰‡å…ƒç€è‰²å™¨ä¸­è®¡ç®—è¡¨é¢åˆ°å…‰æºå’Œç›¸æœºä¹‹é—´çš„ "),s("code",[t._v("halfVector")]),t._v("ï¼Œ å°†å®ƒå’Œæ³•å‘é‡ç›¸ä¹˜ï¼ŒæŸ¥çœ‹å…‰çº¿æ˜¯å¦ç›´æ¥åå°„åˆ°çœ¼å‰")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä»é¡¶ç‚¹ç€è‰²å™¨ä¸­ä¼ å…¥çš„å€¼")]),t._v("\nvarying vec3 v_normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nvarying vec3 v_surfaceToLight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nvarying vec3 v_surfaceToView"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \nuniform vec4 u_color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”±äº v_normal æ˜¯å¯å˜é‡ï¼Œæ‰€ä»¥ç»è¿‡æ’å€¼åä¸å†æ˜¯å•ä½å‘é‡ï¼Œ")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å•ä½åŒ–åä¼šæˆä¸ºå•ä½å‘é‡")]),t._v("\n  vec3 normal "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("normalize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v_normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n  vec3 surfaceToLightDirection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("normalize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v_surfaceToLight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  vec3 surfaceToViewDirection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("normalize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v_surfaceToView"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  vec3 halfVector "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("normalize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("surfaceToLightDirection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" surfaceToViewDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n  float light "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" surfaceToLightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  float specular "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" halfVector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n  gl_FragColor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" u_color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åªå°†é¢œè‰²éƒ¨åˆ†ï¼ˆä¸åŒ…å« alphaï¼‰ å’Œå…‰ç…§ç›¸ä¹˜")]),t._v("\n  gl_FragColor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rgb "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*=")]),t._v(" light"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›´æ¥åŠ ä¸Šé«˜å…‰")]),t._v("\n  gl_FragColor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rgb "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" specular"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br")])]),s("p",[t._v("åœ¨"),s("code",[t._v("js")]),t._v("ä»£ç ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦è®¾ç½®"),s("code",[t._v("u_lightWorldPosition")]),t._v("å’Œ"),s("code",[t._v("u_viewWorldPosition")]),t._v("å³å¯")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" lightWorldPositionLocation "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n    gl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUniformLocation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("program"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"u_lightWorldPosition"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" viewWorldPositionLocation "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n    gl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUniformLocation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("program"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"u_viewWorldPosition"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—ç›¸æœºçŸ©é˜µ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" camera "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("150")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" target "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("35")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" up "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cameraMatrix "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("makeLookAt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("camera"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" up"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è®¾ç½®å…‰æºä½ç½®")]),t._v("\ngl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uniform3fv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lightWorldPositionLocation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®ç›¸æœºä½ç½®")]),t._v("\ngl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uniform3fv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("viewWorldPositionLocation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" camera"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])]),s("p",[t._v("ä½†æ˜¯ä¸Šé¢è®¡ç®—å¾—åˆ°çš„é«˜å…‰æ•ˆæœå¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œå¤ªäº®äº†ã€‚")]),t._v(" "),s("img",{attrs:{width:"300",src:a(635)}}),t._v(" "),s("p",[t._v("ä¸ºäº†è§£å†³å¤ªäº®çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç‚¹ä¹˜ç»“æœ("),s("code",[t._v("dot(normal, halfVector)")]),t._v(")è¿›è¡Œæ±‚å¹‚è¿ç®—æ¥è§£å†³å¤ªäº®çš„é—®é¢˜ï¼Œ å®ƒä¼šæŠŠé«˜å…‰ä»çº¿æ€§å˜æ¢å˜æˆæŒ‡æ•°å˜æ¢ã€‚")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("specular "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" halfVector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" u_shininess"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("ä¸ºäº†é¿å…"),s("code",[t._v("specular = pow(dot(normal, halfVector), u_shininess)")]),t._v("å¾—åˆ°çš„ç»“æœæ˜¯èµ‹å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬åªå°†ç‚¹ä¹˜ç»“æœ(æ³•çº¿æ–¹å‘å’Œè¡¨é¢åˆ°å…‰çº¿çš„æ–¹å‘çš„ç‚¹ä¹˜)ä¸ºæ­£("),s("code",[t._v("dot(normal, surfaceToLightDirection)>0.0")]),t._v(")çš„éƒ¨åˆ†è¿›è¡Œè®¡ç®—ï¼Œå…¶ä»–éƒ¨åˆ†è®¾ç½®ä¸º "),s("code",[t._v("0.0")]),t._v("ã€‚")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("uniform vec4 u_color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nuniform float u_shininess"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mian")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  float light "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" surfaceToLightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  float specular "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("light "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    specular "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" halfVector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" u_shininess"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("p",[t._v("åœ¨"),s("code",[t._v("js")]),t._v("ä¸­è®¾ç½®"),s("code",[t._v("u_shininess")]),t._v("çš„å€¼ï¼Œç”¨äºè°ƒèŠ‚äº®åº¦ã€‚")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" shininessLocation "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUniformLocation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("program"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"u_shininess"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®äº®åº¦")]),t._v("\ngl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uniform1f")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("shininessLocation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" shininess"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("å¦‚æœä½ è¿˜æƒ³è®¾ç½®å…‰ç…§é¢œè‰²å’Œé«˜å…‰é¢œè‰²çš„åŒ–å¯ä»¥è¿›è¡Œå¦‚ä¸‹è®¾ç½®")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("uniform vec4 u_color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nuniform float u_shininess"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nuniform vec3 u_lightColor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nuniform vec3 u_specularColor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åªå°†é¢œè‰²éƒ¨åˆ†ï¼ˆä¸åŒ…å« alphaï¼‰ å’Œå…‰ç…§ç›¸ä¹˜")]),t._v("\n  gl_FragColor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rgb "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*=")]),t._v(" light "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" u_lightColor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›´æ¥å’Œé«˜å…‰ç›¸åŠ ")]),t._v("\n  gl_FragColor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rgb "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" specular "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" u_specularColor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])]),s("p",[t._v("åœ¨"),s("code",[t._v("js")]),t._v("ä¸­è®¾ç½®"),s("code",[t._v("u_lightColor")]),t._v("å’Œ"),s("code",[t._v("u_specularColor")]),t._v("çš„å€¼")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" lightColorLocation "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n    gl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUniformLocation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("program"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"u_lightColor"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" specularColorLocation "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n    gl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUniformLocation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("program"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"u_specularColor"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®å…‰ç…§é¢œè‰²")]),t._v("\ngl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uniform3fv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lightColorLocation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" m4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("normalize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»¿å…‰")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®é«˜å…‰é¢œè‰²")]),t._v("\ngl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uniform3fv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("specularColorLocation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" m4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("normalize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// çº¢å…‰")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("p",[t._v("ä¸‹é¢æ˜¯è§†è§‰æ•ˆæœ")]),t._v(" "),s("img",{attrs:{width:"300",src:a(636)}}),t._v(" "),s("p",[s("code",[t._v("demo")]),t._v("åœ°å€ "),s("a",{attrs:{href:"https://github.com/tangjie-93/WebGL/blob/main/fundmantalExamples/%E5%85%89%E7%85%A7/%E4%B8%89%E7%BB%B4%E7%82%B9%E5%85%89%E6%BA%90-%E9%AB%98%E5%85%89.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("é•œé¢é«˜å…‰æ•ˆæœ"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"_6-èšå…‰ç¯çš„ç€è‰²æ•ˆæœ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-èšå…‰ç¯çš„ç€è‰²æ•ˆæœ"}},[t._v("#")]),t._v(" 6.èšå…‰ç¯çš„ç€è‰²æ•ˆæœ")]),t._v(" "),s("h4",{attrs:{id:"_1-èšå…‰ç¯çš„åŸç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-èšå…‰ç¯çš„åŸç†"}},[t._v("#")]),t._v(" 1.èšå…‰ç¯çš„åŸç†")]),t._v(" "),s("p",[t._v("æŠŠç‚¹å…‰æºæƒ³è±¡æˆä¸€ä¸ªç‚¹ï¼Œå…‰çº¿ä»é‚£ä¸ªç‚¹ç…§å‘æ‰€æœ‰æ–¹å‘ã€‚ å®ç°èšå…‰ç¯åªéœ€è¦"),s("strong",[t._v("ä»¥é‚£ä¸ªç‚¹ä¸ºèµ·ç‚¹é€‰æ‹©ä¸€ä¸ªæ–¹å‘ï¼Œä½œä¸ºèšå…‰ç¯çš„æ–¹å‘")]),t._v("ï¼Œ ç„¶åå°†å…¶ä»–å…‰çº¿æ–¹å‘ä¸æ‰€é€‰æ–¹å‘ç‚¹ä¹˜ï¼Œç„¶åéšæ„é€‰æ‹©ä¸€ä¸ªé™å®šèŒƒå›´ï¼Œ ç„¶ååˆ¤æ–­å…‰çº¿æ˜¯å¦åœ¨é™å®šèŒƒå›´å†…ï¼Œå¦‚æœä¸åœ¨å°±ä¸ç…§äº®ã€‚"),s("br")]),t._v(" "),s("p",[s("img",{attrs:{width:"300",src:a(637)}}),s("br")]),t._v(" "),s("p",[t._v("åœ¨ä¸Šæ–¹çš„å›¾ç¤ºä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å…‰çº¿ç…§å‘æ‰€æœ‰çš„æ–¹å‘ï¼Œå¹¶ä¸”å°†æ¯ä¸ªæ–¹å‘çš„ç‚¹ä¹˜ç»“æœæ˜¾ç¤ºåœ¨ä¸Šé¢ã€‚ ç„¶åæŒ‡å®šä¸€ä¸ª"),s("code",[t._v("æ–¹å‘")]),t._v("è¡¨ç¤ºèšå…‰ç¯çš„æ–¹å‘ï¼Œé€‰æ‹©ä¸€ä¸ªé™å®šï¼ˆä¸Šæ–¹ä»¥åº¦ä¸ºå•ä½ï¼‰ã€‚è®¡ç®—"),s("code",[t._v("dot(surfaceToLight, -lightDirection)")]),t._v("çš„ç‚¹ä¹˜ç»“æœã€‚å¦‚æœç‚¹ä¹˜ç»“æœå¤§äºè¿™ä¸ªé™å®šï¼Œå°±ç…§äº®ï¼Œå¦åˆ™ä¸ç…§äº®ã€‚è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("dotFromDirection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("surfaceToLight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("lightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dotFromDirection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" limitInDotSpace"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨å…‰ç…§")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h4",{attrs:{id:"_2-ä»£ç å®ç°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-ä»£ç å®ç°"}},[t._v("#")]),t._v(" 2.ä»£ç å®ç°")]),t._v(" "),s("p",[t._v("è®¡ç®—èšå…‰ç¯æ•ˆæœçš„ä»£ç æˆ‘ä»¬åªéœ€è¦åœ¨ä¸Šé¢è®¡ç®—é«˜å…‰æ•ˆæœä¸Šçš„ç‰‡å…ƒç€è‰²å™¨ä»£ç åšå‡ºå¦‚ä¸‹ä¿®æ”¹å°±è¡Œã€‚")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v(" \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä»é¡¶ç‚¹ç€è‰²å™¨ä¼ å…¥çš„å€¼")]),t._v("\nvarying vec3 v_normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nvarying vec3 v_surfaceToLight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nvarying vec3 v_surfaceToView"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \nuniform vec4 u_color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nuniform float u_shininess"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nuniform vec3 u_lightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// èšå…‰ç¯çš„æ–¹å‘")]),t._v("\nuniform float u_limit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨ç‚¹ä¹˜ç©ºé—´ä¸­")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å› ä¸º v_normal æ˜¯å¯å˜é‡ï¼Œè¢«æ’å€¼è¿‡")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰€ä»¥ä¸æ˜¯å•ä½å‘é‡ï¼Œå•ä½å¯ä»¥è®©å®ƒæˆä¸ºå†æ¬¡æˆä¸ºå•ä½å‘é‡")]),t._v("\n  vec3 normal "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("normalize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v_normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n  vec3 surfaceToLightDirection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("normalize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v_surfaceToLight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  vec3 surfaceToViewDirection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("normalize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v_surfaceToView"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  vec3 halfVector "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("normalize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("surfaceToLightDirection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" surfaceToViewDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  float light "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  float specular "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n  float dotFromDirection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("surfaceToLightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                               "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("u_lightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dotFromDirection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" u_limit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    light "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" surfaceToLightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("light "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      specular "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" halfVector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" u_shininess"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœå…‰çº¿åœ¨èšå…‰ç¯èŒƒå›´å†… inLight å°±ä¸º 1ï¼Œå¦åˆ™ä¸º 0ã€‚ è·Ÿä¸Šé¢è®¡ç®—specularç­‰ä»·")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//float inLight = step(u_limit, dotFromDirection);")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//float light = inLight * dot(normal, surfaceToLightDirection);")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//float specular = inLight * pow(dot(normal, halfVector), u_shininess);")]),t._v("\n \n  gl_FragColor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" u_color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åªå°†é¢œè‰²éƒ¨åˆ†ï¼ˆä¸åŒ…å« alphaï¼‰ å’Œå…‰ç…§ç›¸ä¹˜")]),t._v("\n  gl_FragColor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rgb "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*=")]),t._v(" light"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›´æ¥åŠ ä¸Šé«˜å…‰")]),t._v("\n  gl_FragColor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rgb "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" specular"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br")])]),s("p",[t._v("åœ¨"),s("code",[t._v("js")]),t._v("ä¸­è®¾ç½®èšå…‰ç¯çš„æ–¹å‘å’Œé™å®š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" lightDirection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" limit "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("degToRad")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" lightDirectionLocation "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUniformLocation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("program"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"u_lightDirection"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" limitLocation "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUniformLocation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("program"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"u_limit"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" lmat "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" m4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("lookAt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lightPosition"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" up"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nlmat "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" m4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("multiply")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("xRotation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lightRotationX"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" lmat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nlmat "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" m4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("multiply")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yRotation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lightRotationY"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" lmat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get the zAxis from the matrix")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// negate it because lookAt looks down the -Z axis")]),t._v("\nlightDirection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("lmat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("lmat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("lmat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ngl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uniform3fv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lightDirectionLocation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" lightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ngl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uniform1f")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("limitLocation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Math"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cos")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("limit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br")])]),s("p",[s("strong",[t._v("æ³¨æ„")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("gl.uniform1f(limitLocation, Math.cos(limit));")]),t._v("è¿™é‡Œè®¾ç½®çš„æ˜¯ç‚¹ä¹˜ç©ºé—´ä¸­çš„é™å®šï¼Œè€Œä¸æ˜¯è§’åº¦ã€‚")]),t._v(" "),s("li",[s("code",[t._v("lightDirection")]),t._v("å…‰ç…§æ–¹å‘éšç€æ¨¡å‹çš„æ—‹è½¬ä¹Ÿè¦æ”¹å˜ï¼Œæ‰€ä»¥éœ€è¦é‡æ–°è®¡ç®—ã€‚")])]),t._v(" "),s("p",[t._v("æ­¤æ—¶å¾—åˆ°çš„å…‰ç…§æ•ˆæœå¦‚ä¸‹ï¼Œéå¸¸ç²—ç³™å’Œåƒµç¡¬ã€‚åªæœ‰åœ¨èšå…‰ç¯èŒƒå›´å†…æ‰æœ‰å…‰ç…§æ•ˆæœï¼Œ åœ¨å¤–é¢å°±ç›´æ¥å˜é»‘ï¼Œæ²¡æœ‰ä»»ä½•è¿‡æ¸¡ã€‚")]),t._v(" "),s("p",[s("img",{attrs:{width:"300",src:a(638)}}),s("br")]),t._v(" "),s("h4",{attrs:{id:"_3-å¹³æ»‘è¿‡æ¸¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-å¹³æ»‘è¿‡æ¸¡"}},[t._v("#")]),t._v(" 3.å¹³æ»‘è¿‡æ¸¡")]),t._v(" "),s("p",[t._v("ä¸ºäº†è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å…‰ç…§è¿›è¡Œå¹³æ»‘è¿‡æ¸¡ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªé™å®šå€¼ä»£æ›¿åŸæ¥çš„ä¸€ä¸ªï¼Œ ä¸€ä¸ªå†…éƒ¨é™å®šä¸€ä¸ªå¤–éƒ¨é™å®šã€‚å¦‚æœåœ¨å†…éƒ¨é™å®šå†…å°±ä½¿ç”¨ "),s("code",[t._v("1.0")]),t._v("ï¼Œ åœ¨å¤–éƒ¨é™å®šå¤–é¢å°±ä½¿ç”¨ "),s("code",[t._v("0.0")]),t._v("ï¼Œåœ¨å†…éƒ¨å’Œå¤–éƒ¨é™å®šä¹‹é—´å°±ä½¿ç”¨ "),s("code",[t._v("1.0")]),t._v(" åˆ° "),s("code",[t._v("0.0")]),t._v(" ä¹‹é—´çš„æ’å€¼ã€‚")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("uniform float u_innerLimit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨ç‚¹ä¹˜ç©ºé—´ä¸­")]),t._v("\nuniform float u_outerLimit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨ç‚¹ä¹˜ç©ºé—´ä¸­")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \n  float dotFromDirection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("surfaceToLightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                               "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("u_lightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  float limitRange "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" u_innerLimit "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" u_outerLimit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—æ’å€¼ï¼Œå°†ä¹‹å‰æ¥è¿‘1çš„å€¼å˜æˆ0~1ä¹‹é—´çš„å€¼")]),t._v("\n  float inLight "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("clamp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dotFromDirection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" u_outerLimit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" limitRange"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  float light "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" inLight "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" surfaceToLightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  float specular "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" inLight "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" halfVector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" u_shininess"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("p",[t._v("ä¸Šé¢çš„ä»£ç ä¸­æˆ‘ä»¬ä½¿ç”¨äº†"),s("code",[t._v("clamp")]),t._v("å‡½æ•°ï¼Œå®ƒå¯ä»¥å°†å€¼é™åˆ¶åœ¨æŒ‡å®šèŒƒå›´å†…ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨"),s("code",[t._v("smoothstep")]),t._v("å¯¹ä¸Šé¢çš„"),s("code",[t._v("inLight")]),t._v("çš„æ±‚å–è¿›è¡Œä»¥ä¸‹ç®€åŒ–ã€‚")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  float dotFromDirection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("surfaceToLightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                               "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("u_lightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  float inLight "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("smoothstep")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u_outerLimit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" u_innerLimit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dotFromDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  float light "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" inLight "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" surfaceToLightDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  float specular "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" inLight "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" halfVector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" u_shininess"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[s("code",[t._v("smoothstep")]),t._v(" å’Œ "),s("code",[t._v("step")]),t._v(" ç›¸ä¼¼è¿”å›ä¸€ä¸ª "),s("code",[t._v("0")]),t._v(" åˆ° "),s("code",[t._v("1")]),t._v(" ä¹‹é—´çš„å€¼ï¼Œä½†æ˜¯å®ƒè·å–æœ€å¤§å’Œæœ€å°è¾¹ç•Œå€¼ï¼Œè¿”å›è¯¥å€¼åœ¨è¾¹ç•ŒèŒƒå›´æ˜ å°„åˆ° "),s("code",[t._v("0")]),t._v(" åˆ° "),s("code",[t._v("1")]),t._v(" ä¹‹é—´çš„æ’å€¼ã€‚")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("smoothstep")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lowerBound"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" upperBound"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("æœ€ç»ˆçš„èšå…‰ç¯æ•ˆæœå¦‚ä¸‹æ‰€ç¤º")]),t._v(" "),s("p",[s("img",{attrs:{width:"300",src:a(639)}}),s("br")]),t._v(" "),s("p",[t._v("å®Œæ•´"),s("code",[t._v("demo")]),t._v("åœ°å€ "),s("a",{attrs:{href:"https://github.com/tangjie-93/WebGL/blob/main/fundmantalExamples/%E5%85%89%E7%85%A7/%E4%B8%89%E7%BB%B4%E8%81%9A%E5%85%89%E7%81%AF.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("èšå…‰ç¯"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("strong",[t._v("å‚è€ƒæ–‡æ¡£")]),s("br"),t._v(" "),s("a",{attrs:{href:"https://webglfundamentals.org/webgl/lessons/zh_cn/webgl-3d-lighting-point.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("WebGL ä¸‰ç»´ç‚¹å…‰æº"),s("OutboundLink")],1),s("br"),t._v(" "),s("a",{attrs:{href:"https://webglfundamentals.org/webgl/lessons/zh_cn/webgl-3d-lighting-directional.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("WebGL ä¸‰ç»´æ–¹å‘å…‰æº"),s("OutboundLink")],1),s("br"),t._v(" "),s("a",{attrs:{href:"https://webglfundamentals.org/webgl/lessons/zh_cn/webgl-3d-lighting-spot.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("WebGL ä¸‰ç»´èšå…‰ç¯"),s("OutboundLink")],1),s("br"),t._v(" "),s("Valine")],1)])}),[],!1,null,null,null);s.default=r.exports}}]);